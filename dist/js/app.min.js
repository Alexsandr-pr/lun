(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){const e=document.querySelector(".aside");document.querySelector(".icon-menu").addEventListener("click",(()=>{e.classList.contains("_active")?(e.classList.remove("_active"),document.body.style.overflow=""):(e.classList.add("_active"),document.body.style.overflow="hidden")}))}(),document.querySelectorAll("[data-spoller]").forEach((e=>{e.addEventListener("click",(t=>{if(!t.target.classList.contains("data-off")){const t=e.parentElement,c=e.nextElementSibling;t.classList.toggle("active"),t.classList.contains("active")?c.style.maxHeight=c.scrollHeight+"px":c.style.maxHeight=0}}))}));const e=document.querySelectorAll("._anim-items");if(e.length>0){function p(){for(let t=0;t<e.length;t++){const c=e[t],o=E(c).top,n=c.scrollHeight,a=4;let s=window.innerHeight-n/a;window.innerHeight>n&&(s=window.innerHeight-n/a),scrollY>o-s&&scrollY<o+n&&c.classList.add("_start-anim")}}function E(e){const t=e.getBoundingClientRect(),c=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+c}}window.addEventListener("scroll",p),setTimeout((()=>{p()}),300)}$(document).ready((function(){$("#input").datepicker({inline:!0,language:{daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",dateFormat:"yyyy-mm-dd",firstDay:0}})})),(e=>{const t=document.querySelectorAll("form"),c=document.querySelectorAll("input"),o=document.querySelector("form > button");t.forEach((e=>{e.addEventListener("submit",(t=>{t.preventDefault();let n=document.createElement("div");n.classList.add("status"),e.appendChild(n),(async(e,t)=>{o.setAttribute("disabled",!0),document.querySelector(".block-loading").style.display="block";let c=await fetch("files/mail.php",{method:"POST",body:t});return await c.text()})(0,new FormData(e)).then((e=>{console.log(e),document.querySelector(".block-loading").style.display="none",n.textContent="Спасибо! Скоро мы с вами свяжемся",o.removeAttribute("disabled")})).catch((()=>n.textContent="Что-то пошло не так...")).finally((()=>{c.forEach((e=>{e.value=""})),setTimeout((()=>{n.remove()}),2e3)}))}))}))})(),window.addEventListener("resize",(()=>{document.querySelectorAll("[data-spoller]").forEach((e=>{const t=e.parentElement,c=e.nextElementSibling;t.classList.contains("active")&&(c.style.maxHeight=c.scrollHeight+"px")}))}));const t=document.querySelector(".header__search-input"),c=document.querySelector(".header__search-block");t.addEventListener("focus",(function(){c.classList.add("active")})),t.addEventListener("blur",(function(){c.classList.remove("active")}));const o=document.querySelector(".header__button-search"),n=document.querySelector(".header__form"),a=document.querySelector(".ham3");o.addEventListener("click",(()=>{n.classList.add("active"),document.body.style.overflow="hidden"})),a.addEventListener("click",(()=>{n.classList.remove("active"),document.body.style.overflow=""}));const s=document.querySelector(".aside"),l=document.querySelector(".ham7"),i=document.querySelector(".icon-menu");function r(){s.classList.remove("_active"),l.classList.remove("active"),document.body.style.overflow="",i.classList.remove("_active")}let d,u,m,y;document.addEventListener("touchstart",(function(e){d=e.touches[0].clientX,u=e.touches[0].clientY}),!1),document.addEventListener("touchend",(function(e){m=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY,function(){let e=m-d,t=y-u;Math.abs(e)>Math.abs(t)&&e>0?(n.classList.remove("active"),document.body.style.overflow="",r()):Math.abs(e)>Math.abs(t)&&e<0||(Math.abs(t)>Math.abs(e)&&t<0?n.classList.remove("active"):(Math.abs(t),Math.abs(e)))}()}),!1);const v=document.querySelector(".calendar__wrapper"),h=document.querySelector(".calendar-close"),f=document.querySelector(".calendar-active");function L(e){const t=document.querySelectorAll(e);t.forEach((e=>{e.addEventListener("click",(e=>{t.forEach((e=>e.classList.remove("active"))),e.target.classList.add("active")}))}))}f.addEventListener("click",(()=>{f.classList.add("active"),v.style.display="flex",document.body.style.overflow="hidden",r()})),h.addEventListener("click",(()=>{f.classList.remove("active"),v.style.display="none",document.body.style.overflow=""})),v.addEventListener("click",(e=>{e.target.classList.contains("calendar__wrapper")&&(f.classList.remove("active"),v.style.display="none",document.body.style.overflow="")})),document.querySelectorAll("[data-off]").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active")}))})),L("[data-border]"),L(".button-green");const b=document.querySelector(".header-select__button"),g=document.querySelector(".header-select");b.addEventListener("click",(()=>{g.classList.toggle("active")})),document.querySelectorAll(".header-select__option").forEach((e=>{e.addEventListener("click",(()=>{g.classList.remove("active")}))}))})();